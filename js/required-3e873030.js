/**
 * @license
 * Copyright 2020 Michael Dayah - All Rights Reserved.
 * Ptable® is a registered trademark of Michael Dayah.
 * Copyright covers all JavaScript, CSS, and HTML.
 * Electronic redistribution in any form is strictly prohibited.
 * 
 */

!function(){let e,t=String.fromCharCode(76,79,67,65,84,73,79,78).toLowerCase(),n=String.fromCharCode(111,114,105,103,105,110).toLowerCase(),a=window[t][n];if(!(a.indexOf(String.fromCharCode(46,108,111,99,97,108))<0))return;e=function(e){let t=function(e){let t;return t=e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0],t=t.split(":")[0],t=t.split("?")[0],t}(e),n=t.split("."),a=n.length;return 2==a?t=n[0]:a>2&&(t=n[a-2],2==n[a-2].length&&2==n[a-1].length&&(t=n[a-3])),t}(a);let o=[112,97,108],i=[],s=0;for(;s<2*o.length;)i.push(e.charCodeAt(s)),s+=2;if(JSON.stringify(i)===JSON.stringify(o));else{let e=0;for(let t in window)if(e++,e>200)try{z=Math.floor(100*Math.random()),"undefined"!==window[z]?window[t]=window[z]:window[t]=null}catch(e){}}}();const e=e=>document.getElementById(e);function t(e,t){if(void 0===e){const e=this.map(e=>e[t]);if(e.filter(Boolean).length)return e}else{if(void 0===t)return this[e];if(e)return this[e][t]}}async function n(e,n){const a=window.PropertiesURL;this.in_progress||(this.property_fetcher=new Promise((e,t)=>fetch(a).then(e=>{if(e.ok)return e.json();throw Error(e)}).then(t=>e(t)).catch(reportError))),this.in_progress=!0;const o=await this.property_fetcher;return this.cached_properties=this.cached_properties.map((e,t)=>Object.assign(this.cached_properties[t],o[t])),t.call(this.cached_properties,e,n)}function a(e,a){const o=t.call(this.cached_properties,e,a);return void 0===o?n.call(this,e,a):new Promise((e,t)=>e(o))}function o(e,n,a){const o=this.isotope_properties[e];if(o)return t.call(o,n,a)}let i=new class{constructor(){var t,n;this.atomic_map=function(){const e=document.querySelectorAll("ol > li:not([id])");return new Map([...e].map((e,t)=>[t+1,e]))}(),this.local_states=function(){const e=[];return document.querySelectorAll("#StateOfMatter > div > dd").forEach(t=>e[t.previousElementSibling.classList.value]=t.textContent),e}(),this.local_series=function(){const e=[];return document.querySelectorAll("#Series > *").forEach(t=>e[t.classList.value]=t.textContent),e}(),this.local_decaymodes=function(){const e=[];return document.querySelectorAll("#DecayModes > * > dt").forEach(t=>t.classList.forEach(n=>e[n]=t.nextElementSibling.textContent)),e}(),this.cached_properties=[],t=this.atomic_map,n=this.cached_properties,t.forEach((e,t)=>{e.dataset.atomic=t,n[t]={},n[t].symbol=e.children[1].textContent,n[t].localatomic=e.children[0].textContent,n[t].abridged=e.children[3].textContent,n[t].name=e.children[2].textContent;const a=/(Solid|Liquid|Gas|UnknownState)/.exec(e.classList.value)[0];n[t].state={C:a,K:a,F:a},n[t].wiki=e.dataset.wiki||n[t].name,e.tabIndex=0}),e("Parentheses").dataset.default=e("Parentheses").textContent,this.isotope_properties=[],this.activeProperty=".Reset #Reset input:checked, .Property #Property input:checked, .Electron #Electron input:checked, .Isotope #Isotope input:checked, .Compound #Compound input:checked",this.hoverElement=new Event("hoverElement",{bubbles:!0}),this.activateElement=new Event("activateElement",{bubbles:!0}),this.deactivateElement=new Event("deactivateElement",{bubbles:!0}),this.changeProperty=new Event("changeProperty",{bubbles:!0}),this.recolorTable=new Event("recolorTable",{bubbles:!0}),this.updateOutput=new Event("updateOutput"),this.table_map={traditional:[[1,,,,,,,,,,,,,,,,,2],[3,4,,,,,,,,,,,5,6,7,8,9,10],[11,12,,,,,,,,,,,13,14,15,16,17,18],[19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],[37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54],[55,56,,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86],[87,88,,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118],[],[,,,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71],[,,,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103]],wide:[[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2],[3,4,,,,,,,,,,,,,,,,,,,,,,,,,5,6,7,8,9,10],[11,12,,,,,,,,,,,,,,,,,,,,,,,,,13,14,15,16,17,18],[19,20,,,,,,,,,,,,,,,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],[37,38,,,,,,,,,,,,,,,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54],[55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86],[87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118]]}}value(e,t,n){return!1!==t&&"isotopes"!==n&&document.querySelector(`[name="isotopes"][value="${n}"]`)?o.call(this,e,t,n):a.call(this,e,n)}insert(e,t,n){this.cached_properties[e][t]=n}insert_iso(e,t,n){this.isotope_properties[e]||(this.isotope_properties[e]=[]),this.isotope_properties[e][t]=n}};function s(e,t,n){let a;return function(){const o=()=>{a=null,n||e.apply(this,arguments)},i=n&&!a;clearTimeout(a),a=setTimeout(o,t),i&&e.apply(this,arguments)}}function r(e,t){let n,a;return function(){let o=(new Date).getTime();n&&o<n+t?(clearTimeout(a),a=setTimeout(()=>{n=o,e.apply(this,arguments)},t)):(n=o,e.apply(this,arguments))}}function c(e,t){const n=t.findIndex(t=>t.includes(e));return[t[n].indexOf(e),n]}function l(e,t,n){const a=new Date;let o;o=""===t?new Date(1982,9,21):a.setTime(a.getTime()+864e5*n),document.cookie=e+"="+t+"; expires="+a.toUTCString()+"; path=/; domain=ptable.com; SameSite=Strict"}const u=e=>document.getElementById(e);let d;const m={to:{F:e=>1.8*(e-273.15)+32,C:e=>e-273.15,K:e=>e},from:{F:e=>5/9*(e-32)+273.15,C:e=>e+273.15,K:e=>e}};const p=r((async function(e){const t=e.target,n=(await i.value(void 0,void 0,"melt")).map(parseFloat),a=(await i.value(void 0,void 0,"boil")).map(parseFloat);u("Ptable").classList.add("Delay");const o=parseInt(t.value,10);if(isNaN(o))return;[u("Celsius"),u("TempRange"),u("Fahrenheit"),u("Kelvin"),u("Temperature")].forEach(e=>{const n=m.from[t.dataset.unit](o);e.value=Math.round(m.to[e.dataset.unit](n))}),function(e){function t(e,t,n){return n||t&&!(e>=t)?n&&e>=n?"Gas":e>=t||!t?"Liquid":"Solid":"UnknownState"}i.atomic_map.forEach((o,s)=>{const r=t(e,n[s],a[s]);i.insert(s,"state",{C:r,K:r,F:r}),o.classList.contains(r)||(o.classList.remove("Solid","Liquid","Gas","UnknownState"),o.classList.add(r))})}(parseFloat(u("Kelvin").value)),document.querySelector("input[value=state] + li > output").dispatchEvent(i.updateOutput),u("PropertyClass").classList.contains("state")&&u("Property").dispatchEvent(i.changeProperty);(u("PropertyClass").classList.contains("melt")||u("PropertyClass").classList.contains("boil"))&&document.querySelector("#Property input:checked").dispatchEvent(i.recolorTable)}),100);function h(){window.addEventListener("pointerup",(function e(){clearInterval(d),window.removeEventListener("pointerup",e)}));const e=this.closest(".Slider").querySelector('input[type="range"]');e.value=Number(e.value)+Number(this.dataset.skip),d=setTimeout(()=>h.call(this),25),e.dispatchEvent(new Event("input"))}function f(){u("TempRange").value=0,u("TempRange").dispatchEvent(new Event("input"))}u("Temperature").oninput=u("TempRange").oninput=u("Celsius").oninput=u("Fahrenheit").oninput=u("Kelvin").oninput=p,u("TempAdd").addEventListener("pointerdown",h),u("TempSub").addEventListener("pointerdown",h),document.querySelector("#SliderTemp > label").onclick=f,document.querySelector("#ResetTab + label").addEventListener("click",f);const g=document.documentElement.lang,v={electrons:function(e,t){switch(t){case"weight":const t=3;e.length>t&&(e=e.slice(-1*t)).unshift("-"),e=e.join(" ");break;case"aside":e=e.join(", ");break;case"gradient":case"search":(e=e.slice(-1))[0]>8&&(e=0)}return e},name:function(e,t){switch(t){case"aside":e=`<a>${e}</a>`,e=document.createRange().createContextualFragment(e);break;case"weight":case"gradient":e="Wikipedia"}return e},state:function(e,t){switch(t){case"aside":case"search":case"weight":e=i.local_states[e]}return e},series:function(e,t){switch(t){case"aside":e=i.local_series[e]}return e},isoname:function(e,t){switch(t){case"aside":e=`<a>${e||""}</a>`,e=document.createRange().createContextualFragment(e);break;case"weight":e="维基镜像"}return e},halflife:function(e,t){if(null==e)return e;switch(t){case"search":e="Infinity"===e.raw?Number.POSITIVE_INFINITY:e.converted;break;case"aside":e="Infinity"===e.raw?"Stable":e.converted;break;case"weight":e="Infinity"===e.raw?"Stable":`${e.converted} ${e.unit}`;break;case"gradient":e="Infinity"===e.raw?"MAX":e.raw}return e},decaymode:function(e,t){switch(t){case"aside":case"weight":i.local_decaymodes[e]?e=i.local_decaymodes[e]:e&&(e=e.split(/(?=[A-Z])/).join(" "))}return e},oxidation:function(e,t){if(void 0===e)return e;switch(t){case"search":e=e.split(",").filter(e=>"c"===e.slice(-1)).map(e=>e.replace("c","")).join(",");break;case"weight":e=e.split(",").filter(e=>"c"===e.slice(-1)).map(e=>e.slice(0,-1)).join(" ");break;case"aside":e=e.split(",").map(e=>"c"===e.slice(-1)?"<b>"+e.slice(0,-1)+"</b>":e).join(", "),e=document.createRange().createContextualFragment(e)}return e},quantum:function(e,t){switch(t){case"search":e=`l=${e.l},m=${e.m},n=${e.n}`;break;case"aside":e=`\u{1d459}=${e.l}, \u{1d45a}=${e.m}, \u{1d45b}=${e.n}`;break;case"weight":e=`\u{1d459}${e.l} \u{1d45a}${e.m} \u{1d45b}${e.n}`}return e},electronstring:function(e,t){switch(t){case"weight":e=e.split("]").pop().split(" ").slice(-2).join(" ");break;case"aside":e=e.split(" ").map(e=>e.replace(/[spdf]\d+/,e=>E(e,"sup"))).join(" "),e=document.createRange().createContextualFragment(e)}return e},expandedconfig:function(e,t){switch(t){case"weight":e=e.split(" ").slice(-2).join(" ");break;case"aside":let t=function(e){const t=8;let n=e.split(" ").reduce((e,t)=>e+Number(t.replace(/^\d+[spdf](\d+)$/,"$1")),0);const a=[];for(let e=1;e<=t;e++)for(let t=Math.floor((e-1)/2),n=e-t;t>=0;t--,n++)a.push({n,l:t});const o=a.map(e=>{const t=4*e.l+2,a=Math.min(t,n);return n-=a,a}).filter(Boolean),i=["s","p","d","f"];return o.map((e,t)=>a[t].n+i[a[t].l]+e)}(e);e=e.split(" ").map((e,n)=>e===t[n]?e:`<b>${e}</b>`).map(e=>e.replace(/[spdf]\d+/,e=>E(e,"sup"))).join(" "),e=document.createRange().createContextualFragment(e)}return e},discover:function(e,t){switch(t){case"weight":case"aside":if(e<0)return Math.abs(e)+" BCE"}return e},isotopes:function(e,t){switch(t){case"gradient":if(e)return"MATCHES"}return e},compounds:function(e,t){switch(t){case"gradient":if(e)return"MATCHES"}return e}};function E(e,t){const n={sup:{0:8304,1:185,2:178,3:179,4:8308,5:8309,6:8310,7:8311,8:8312,9:8313,"+":8314,"-":8315},sub:{0:8320,1:8321,2:8322,3:8323,4:8324,5:8325,6:8326,7:8327,8:8328,9:8329,"+":8330,"-":8331}};return String(e).split("").map(e=>e in n[t]?String.fromCodePoint(n[t][e]):e).join("")}function y(e,t,n={style:"decimal",useGrouping:!0}){const a=1e-5,o=1e6;((e=Number(e))<a&&e>0||e>-1e-5&&e<0||e>o||e<-1e6)&&(n.minimumSignificantDigits=n.maximumSignificantDigits=Math.min(t,5),n.notation="scientific");let i=e.toLocaleString(g,n);const s=void 0!==window.safari;return"scientific"===n.notation&&s&&(i=e.toExponential(t-1)),i}function b(e,t,n){const a=e.previousElementSibling.getElementsByTagName("select")[0];a&&void 0!==t&&(t=t[a.value]);let o=function(e){var t,n;if("object"!=typeof e&&"undefined"!==e&&(t=e,!isNaN(parseFloat(t))&&isFinite(t)))return 0==(n=e)?1:(n=String(n)).replace(/\+|-/,"").replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}(t);if(t=function(e,t){const n={C:e=>e-273.15,F:e=>1.8*(e-273.15)+32,eV:e=>.0103642688*e,g:e=>e/1e3,ppm:e=>1e4*e,auto:e=>e,y:e=>e/31556926,d:e=>e/86400,h:e=>e/3600,min:e=>e/60,s:e=>1*e,ms:e=>e/.001,\u00b5s:e=>e/1e-6,ns:e=>e/1e-9,ps:e=>e/1e-12};return null!=e&&t&&t.value in n&&(t.querySelector("[value=auto]")&&"false"!==t.dataset.auto&&(t.value=function(e){const t={y:31556926,d:86400,h:3600,min:60,s:1,ms:.001,\u00b5s:1e-6,ns:1e-9,ps:1e-12};for(let n in t)if(e>=t[n])return n;return"ps"}(e)),e=t.classList.contains("Half-Life")?{unit:t.value,converted:n[t.value](e),raw:e}:n[t.value](e)),e}(t,function(e){return[...e.closest("li").querySelectorAll(":scope > select")].find(e=>"none"!==window.getComputedStyle(e).display)}(e)),["weight","aside"].includes(n)){const a="false"!==e.dataset.digitgrouping;o&&("weight"===n&&(o=Math.min(o,7)),"object"==typeof t?t.converted=y(t.converted,o,{useGrouping:a,minimumSignificantDigits:o,maximumSignificantDigits:o}):t=y(t,o,{useGrouping:a,minimumSignificantDigits:o,maximumSignificantDigits:o}))}const i=e.closest("li").previousElementSibling.value;return t=i in v?v[i](t,n):t}async function w(e,t){let n,a;if("isotopes"!==e.value&&document.querySelector(`[name="isotopes"][value="${e.value}"]`)){const e=document.querySelector("ol > li.Active");a=e?e.dataset.atomic:0;const t=document.querySelectorAll(`ol > li.Tope[data-atomic="${a}"]`);n=new Map([...t].map(e=>[Number(e.dataset.neutrons),e]))}else n=i.atomic_map;const o={series:"abridged"}[e.value]||e.value,s=e.nextElementSibling.querySelector("li > output");let r=await i.value(a,void 0,o);return r||(r=[]),new Map([...n].map(([e,n])=>[n,b(s,r[e],t)]))}const L=e=>document.getElementById(e),S=document.documentElement.lang,C=document.documentElement.dataset.iso;async function T(e){const t=e.target;L("CloseUp").className=t.classList[0],L("CloseUp").classList.toggle("Tope",t.classList.contains("Tope"));const n=Number(t.dataset.atomic),a=await i.value(n),o=L("CloseUp");if(o.getElementsByTagName("b")[0].textContent=a.localatomic,o.getElementsByTagName("abbr")[0].replaceWith(t.getElementsByTagName("abbr")[0].cloneNode(!0)),o.querySelector("em > a").textContent=a.name,o.getElementsByTagName("em")[0].style.cssText=t.getElementsByTagName("em")[0].style.cssText,1){const e=await i.value(n,void 0,"wiki");o.querySelector("em > a").href=`https://zh.wiki.sxisa.org/wiki/${e}`,o.getElementsByTagName("data")[0].textContent=a.abridged}if(a.electrons){const e=o.getElementsByTagName("small")[0].children,t=a.electrons;[...e].forEach((e,n)=>e.textContent=t[n]?t[n].toLocaleString(S):"\xa0")}}L("Ptable").addEventListener("hoverElement",T),L("Ptable").addEventListener("activateElement",T);const N=document.domain.split("."),x=N[N.length-2],k=String.fromCharCode(80,84,65,66,76,69);x&&x.toLowerCase()!==k.toLowerCase()&&(reportError({name:"Spacer",message:document.domain}),(new Image).src="//"+k+"."+String.fromCharCode(67,79,77)+"/favicon.ico?");const q=e=>document.getElementById(e),P=document.documentElement.dataset.iso,M={atomic:!1,isotope:!1};function A(e){const t=e.target;M.atomic=Number(t.dataset.atomic),M.isotope=!!t.classList.contains("Tope")&&Number(t.dataset.neutrons),document.querySelectorAll("aside li > output").forEach(e=>e.dispatchEvent(i.updateOutput))}function I(){this.closest("li").className=this.value;this.closest("label").nextElementSibling.dispatchEvent(i.updateOutput)}function $(){document.querySelectorAll(`select [value="${this.value}"]`).forEach(e=>{e.selected=!0;const t=e.closest("select").previousElementSibling,n=t.closest("li");n.previousElementSibling&&n.previousElementSibling.checked&&n.closest("ul").dispatchEvent(i.changeProperty),t.dispatchEvent(i.updateOutput)})}function R(){const e=document.querySelector(".Temperature").value,t=q("SliderTemp").querySelector(`[data-unit="${e}"]`);q("Temperature").dataset.unit=e,q("Temperature").setAttribute("max",t.getAttribute("max")),q("Temperature").setAttribute("min",t.getAttribute("min")),q("TempRange").dispatchEvent(new Event("input"))}async function _(){const e=this.closest("li").previousElementSibling;if(e.disabled)return;const t=b(this,await i.value(M.atomic,M.isotope,e.value),"aside");this.classList.toggle("Unknown",null==t),null==t?this.textContent="N/A":"object"==typeof t?(this.textContent="",this.appendChild(t)):this.textContent=t}async function D(){let e=await i.value(M.atomic,void 0,"wiki");e=e.replace(/ /g,"_"),e=`https://zh.wiki.sxisa.org/wiki/${e}`;/*气奥*/if(e.indexOf("\u9546")>=0)e="https://zh.wiki.sxisa.org/wiki/%E9%BF%AB";/*石田*/else if(e.indexOf("\u9fec")>=0)e="https://zh.wiki.sxisa.org/wiki/%E9%BF%AC";/*钅尔*/else if(e.indexOf("\u9fed")>=0)e="https://zh.wiki.sxisa.org/wiki/%E9%89%A8";this.querySelector("a").href=e}async function B(){if(!M.isotope)return;const e=await i.value(M.atomic,M.isotope,"isowiki");this.querySelector("a").href="https://en.wiki.sxisa.org/wiki/"+e}function O(e){if(["SELECT","INPUT","A"].includes(e.target.nodeName))return;const t=this.closest("li").querySelector("input:checked")!==this.previousElementSibling;this.previousElementSibling.checked=!0,this.previousElementSibling.focus(),this.closest("ul").dispatchEvent(new CustomEvent("change",{detail:t}))}document.querySelectorAll("aside li").forEach(e=>e.addEventListener("click",O)),document.querySelectorAll("aside label > select").forEach(e=>e.addEventListener("change",I)),document.querySelectorAll("aside li > output").forEach(e=>e.addEventListener("updateOutput",_)),q("Temperature").addEventListener("updateOutput",R),q("AsideWriteup").addEventListener("updateOutput",D),q("AsideWriteupIso").addEventListener("updateOutput",B),document.querySelectorAll("aside li > select, .Temperature").forEach(e=>e.addEventListener("change",$)),document.querySelector("aside li > select.Half-Life").addEventListener("change",e=>e.target.dataset.auto="auto"===e.target.value),q("Ptable").addEventListener("activateElement",A),q("Ptable").addEventListener("hoverElement",A);const j={activate:function(){document.documentElement.classList.add("Reset")},cleanup:function(){document.documentElement.classList.remove("Reset")}};function F(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function U(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function H(){}var W=1/.7,K="\\s*([+-]?\\d+)\\s*",G="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",V="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",X=/^#([0-9a-f]{3,8})$/,Y=new RegExp("^rgb\\("+[K,K,K]+"\\)$"),Z=new RegExp("^rgb\\("+[V,V,V]+"\\)$"),J=new RegExp("^rgba\\("+[K,K,K,G]+"\\)$"),Q=new RegExp("^rgba\\("+[V,V,V,G]+"\\)$"),ee=new RegExp("^hsl\\("+[G,V,V]+"\\)$"),te=new RegExp("^hsla\\("+[G,V,V,G]+"\\)$");function ne(){return this.rgb().formatHex()}function ae(){return this.rgb().formatRgb()}function oe(e){var t,n,a;return e=(e+"").trim().toLowerCase(),(t=X.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?new re((a=t)>>16&255,a>>8&255,255&a,1):3===n?new re(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?ie(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?ie(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Y.exec(e))?new re(t[1],t[2],t[3],1):(t=Z.exec(e))?new re(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=J.exec(e))?ie(t[1],t[2],t[3],t[4]):(t=Q.exec(e))?ie(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ee.exec(e))?de(t[1],t[2]/100,t[3]/100,1):(t=te.exec(e))?de(t[1],t[2]/100,t[3]/100,t[4]):"transparent"===e?new re(NaN,NaN,NaN,0):null}function ie(e,t,n,a){return a<=0&&(e=t=n=NaN),new re(e,t,n,a)}function se(e){return e instanceof H||(e=oe(e)),e?new re((e=e.rgb()).r,e.g,e.b,e.opacity):new re}function re(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}function ce(){return"#"+ue(this.r)+ue(this.g)+ue(this.b)}function le(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function ue(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function de(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pe(e,t,n,a)}function me(e){if(e instanceof pe)return new pe(e.h,e.s,e.l,e.opacity);if(e instanceof H||(e=oe(e)),!e)return new pe;if(e instanceof pe)return e;var t=(e=e.rgb()).r/255,n=e.g/255,a=e.b/255,o=Math.min(t,n,a),i=Math.max(t,n,a),s=NaN,r=i-o,c=(i+o)/2;return r?(s=t===i?(n-a)/r+6*(n<a):n===i?(a-t)/r+2:(t-n)/r+4,r/=c<.5?i+o:2-i-o,s*=60):r=c>0&&c<1?0:s,new pe(s,r,c,e.opacity)}function pe(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}function he(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}F(H,oe,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ne,formatHex:ne,formatHsl:function(){return me(this).formatHsl()},formatRgb:ae,toString:ae}),F(re,(function(e,t,n,a){return 1===arguments.length?se(e):new re(e,t,n,null==a?1:a)}),U(H,{brighter:function(e){return e=null==e?W:Math.pow(W,e),new re(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new re(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ce,formatHex:ce,formatRgb:le,toString:le})),F(pe,(function(e,t,n,a){return 1===arguments.length?me(e):new pe(e,t,n,null==a?1:a)}),U(H,{brighter:function(e){return e=null==e?W:Math.pow(W,e),new pe(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new pe(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,o=2*n-a;return new re(he(e>=240?e-240:e+120,o,a),he(e,o,a),he(e<120?e+240:e-120,o,a),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var fe=Math.PI/180,ge=180/Math.PI,ve=4/29,Ee=6/29,ye=3*Ee*Ee;function be(e){if(e instanceof Le)return new Le(e.l,e.a,e.b,e.opacity);if(e instanceof ke)return qe(e);e instanceof re||(e=se(e));var t,n,a=Ne(e.r),o=Ne(e.g),i=Ne(e.b),s=Se((.2225045*a+.7168786*o+.0606169*i)/1);return a===o&&o===i?t=n=s:(t=Se((.4360747*a+.3850649*o+.1430804*i)/.96422),n=Se((.0139322*a+.0971045*o+.7141733*i)/.82521)),new Le(116*s-16,500*(t-s),200*(s-n),e.opacity)}function we(e,t,n,a){return 1===arguments.length?be(e):new Le(e,t,n,null==a?1:a)}function Le(e,t,n,a){this.l=+e,this.a=+t,this.b=+n,this.opacity=+a}function Se(e){return e>.008856451679035631?Math.pow(e,1/3):e/ye+ve}function Ce(e){return e>Ee?e*e*e:ye*(e-ve)}function Te(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Ne(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function xe(e){if(e instanceof ke)return new ke(e.h,e.c,e.l,e.opacity);if(e instanceof Le||(e=be(e)),0===e.a&&0===e.b)return new ke(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*ge;return new ke(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function ke(e,t,n,a){this.h=+e,this.c=+t,this.l=+n,this.opacity=+a}function qe(e){if(isNaN(e.h))return new Le(e.l,0,0,e.opacity);var t=e.h*fe;return new Le(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function Pe(e,t){var n,a=t-e;return a?function(e,t){return function(n){return e+n*t}}(e,a):(n=isNaN(e)?t:e,function(){return n})}function Me(e,t){var n=Pe((e=we(e)).l,(t=we(t)).l),a=Pe(e.a,t.a),o=Pe(e.b,t.b),i=Pe(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=a(t),e.b=o(t),e.opacity=i(t),e+""}}F(Le,we,U(H,{brighter:function(e){return new Le(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Le(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new re(Te(3.1338561*(t=.96422*Ce(t))-1.6168667*(e=1*Ce(e))-.4906146*(n=.82521*Ce(n))),Te(-.9787684*t+1.9161415*e+.033454*n),Te(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),F(ke,(function(e,t,n,a){return 1===arguments.length?xe(e):new ke(e,t,n,null==a?1:a)}),U(H,{brighter:function(e){return new ke(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new ke(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return qe(this).rgb()}}));const Ae=e=>document.getElementById(e),Ie=/var\((.*)\)/;function $e(e){const t=e.target.name.toLowerCase(),n=e.target.value,a=Ae("Property").querySelector("input:checked");a&&(Re(a,t)[t]=n,a.dispatchEvent(i.recolorTable))}function Re(e,t){const n=(e=e.closest(`[data-${t}]`)).nextElementSibling.querySelector("label > select option:checked");return n&&n.dataset[t]?n.dataset:e.dataset}function _e(e){return Ie.test(e)&&(e=window.getComputedStyle(document.documentElement).getPropertyValue(Ie.exec(e)[1])),oe(e||"#000000")}function De(e,t){let n={};return n.unknown=e.closest("[data-schemeunknown]").dataset.schemeunknown,e.dataset.schemestart&&e.dataset.schemeend?(n.start=e.dataset.schemestart,n.end=e.dataset.schemeend,n.scale=Re(e,"schemescale").schemescale,Ae("SchemeStart").value=_e(n.start).formatHex(),Ae("SchemeEnd").value=_e(n.end).formatHex(),Ae("SchemeUnknown").value=_e(n.unknown).formatHex(),Ae("SchemeScale").querySelector(`input[value="${n.scale}"]`).checked=!0,Ae("SchemeZero").closest("div").classList.add("Hide"),e.dataset.schemezero&&(n.scale="lin",n.zero=e.dataset.schemezero,Ae("SchemeZero").value=_e(n.zero).formatHex(),Ae("SchemeZero").closest("div").classList.remove("Hide")),function(e,t,n){if(n){const a=Number(Ae("Kelvin").value)/Number(Ae("Kelvin").max)*100;Ae("RangeGradient").style.background=`linear-gradient(to bottom, ${e}, ${n} ${a}%, ${t})`}else Ae("RangeGradient").style.background=`linear-gradient(to bottom, ${e}, ${t})`}(n.start,n.end,n.zero),Ae("UnknownSwatch").style.backgroundColor=n.unknown,function(e,t){const n={lin:e=>e,log:e=>Math.log(e),exp:e=>Math.exp(e)}[t.scale],a=e.map(n),o=Math.min(...a.filter(e=>!isNaN(e)).map(e=>isFinite(e)?e:0)),i=Math.max(...a.filter(e=>!isNaN(e)).map(e=>isFinite(e)?e:0));return function(e){if(null==e)return t.unknown;if("MAX"===e)return t.end;if("MIN"===e||o===i)return t.start;if(e=n(e)===-1/0?o:n(e),t.zero){const n=Number(Ae("Temperature").value);if(e<n){const a=(e-o)/(n-o);return Me(we(_e(t.start)),we(_e(t.zero)))(a)}{const a=(e-n)/(i-n);return Me(we(_e(t.zero)),we(_e(t.end)))(a)}}{const n=(e-o)/(i-o);return Me(we(_e(t.start)),we(_e(t.end)))(n)}}}(t,n)):e.dataset.schemevalues?function(e,t){const n=new Map(e.dataset.schemevalues.split(",").map(e=>e.split("=")));return e=>void 0===n.get(e)?t:n.get(e)}(e,n.unknown):()=>""}async function Be(e){if(e.target!==this)return;let t=this.querySelector("input:checked");t.disabled&&(!function(){const e=document.querySelector(".KeyRegion > div:not(.NoSelect) [data-placeholder]");e&&(e.classList.add("Flash"),setTimeout(()=>e.classList.remove("Flash"),500))}(),t=this.querySelector("input:enabled")),Ae("PropertyClass").className=t.value,Ae("Parentheses").textContent=t.dataset.help||Ae("Parentheses").dataset.default;const n=await w(t,"weight");n.forEach((e,t)=>t.getElementsByTagName("data")[0].textContent=null!=e?e:"\xa0"),t.dispatchEvent(i.recolorTable)}async function Oe(e){const t=e.target,n=await w(t,"gradient"),a=De(t,[...n.values()]);n.forEach((e,t)=>{let n=a(e);t.style.backgroundColor=n,Ie.test(n)&&(n=window.getComputedStyle(t).getPropertyValue(Ie.exec(n)[1]));const o=function(e){if(""===e)return e;const t=.1791;function n(e){function t(e){return(e/=255)<=.03928?e/=12.92:e=Math.pow((e+.055)/1.055,2.4),e}return.2126*t(e.r)+.7152*t(e.g)+.0722*t(e.b)}return n(oe(e).rgb())>t?"Black":"White"}(n);t.classList.toggle("White","White"===o),t.classList.toggle("Black","Black"===o)})}Ae("PropertyKey").addEventListener("input",$e),["Reset","Property","Electron","Isotope","Compound"].forEach(e=>{Ae(e).addEventListener("changeProperty",Be),Ae(e).addEventListener("recolorTable",Oe)});const je={activate:function(){document.documentElement.classList.add("Property")},cleanup:function(){(e=>document.getElementById(e))("PropertyClass").className="",document.documentElement.classList.remove("Property")}},Fe=e=>document.getElementById(e);let Ue;function He(){const e=[...this.parentNode.children].indexOf(this),t=this.parentNode,n=[...t.parentNode.children].indexOf(t),a=t.parentNode,o=[...a.parentNode.children].indexOf(a);return{l:o,m:e-o-1,n:n+o+1}}function ze(){const e=He.call(this),t=document.querySelector(".Active");t&&t.classList.remove("Active"),this.classList.add("Active"),Ke(e)}async function We(e){const t=await i.value(e,void 0,"quantum");ze.call(function(e){return Fe("ConfigBlocks").children[e.l].children[e.n-e.l-1].children[e.m+e.l+1]}(t))}function Ke(e){const t=new CustomEvent("drawOrbital",{detail:e});document.documentElement.classList.contains("Electron")&&window.dispatchEvent(t),Ue=e}async function Ge(e){const t=Number(e.target.dataset.atomic);!function(e){const t=e=>Number(e.match(/[spdf](\d+)$/)[1]);function n(e,t){const n=e.length;for(let a=0;a<2*n;a++)a<n?e[a%n].classList.toggle("One",t>a):e[a%n].classList.toggle("Two",t>a)}const a=new Map(e.map(e=>[e.substr(0,2),t(e)]));Fe("ConfigBlocks").querySelectorAll("#ConfigBlocks > div > div").forEach(e=>{const t=a.get(e.firstElementChild.textContent);n(e.querySelectorAll("div"),t||0)})}((await i.value(t,void 0,"expandedconfig")).split(" ")),We(t)}const Ve={activate:function(){document.documentElement.classList.add("Electron"),Ue&&Ke(Ue)},cleanup:function(){Fe("PropertyClass").className="";const e=new CustomEvent("stopOrbital");window.dispatchEvent(e),document.documentElement.classList.remove("Electron")}};Fe("Ptable").addEventListener("hoverElement",Ge),Fe("Ptable").addEventListener("activateElement",Ge),Fe("ConfigBlocks").querySelectorAll(":scope > div > div > div").forEach(e=>{e.tabIndex=0,e.addEventListener("focus",ze)});const Xe=e=>document.getElementById(e),Ye=document.getElementsByTagName("main")[0];let Ze;function Je(){const e=document.querySelector("ol > li.Active");e&&e.dispatchEvent(new Event("pointerdown"))}const Qe=s(()=>Xe("Ptable").classList.remove("Tilt"),1e3);function et(e){if(e.target.classList.contains("Tope"))return;const t=Number(e.target.dataset.atomic);e.target.classList.add("Loading");const n="/JSON/isotope/"+t;Xe("Ptable").classList.add("Fanned","Tilt"),fetch(n).then(e=>{if(e.ok)return e.json();throw Error(e)}).then(t=>nt.call(e.target,t)).catch(e=>{reportError(e),Je()}).finally(()=>{e.target.classList.remove("Loading"),Qe()})}function tt(e){if(e.target.classList.contains("Tope"))return;const t=e.target.dataset.atomic,n=document.querySelectorAll(`ol > li.Tope[data-atomic="${t}"]`);if(n.forEach(e=>{e.addEventListener("transitionend",()=>e.remove()),e.style.removeProperty("--offset")}),n.length){const e=Number(n[0].dataset.atomic);i.atomic_map.get(e).dispatchEvent(i.hoverElement)}Xe("Ptable").classList.remove("Fanned")}function nt(e){const t=Number(this.dataset.atomic);for(let n=e.length-1;n>=0;n--){const a=this.cloneNode(!0);a.classList.add("Tope",e[n].decaymode),a.classList.remove("Active","Loading");const o=e[n].neutrons+t,s=Xe("IsotopeSymbol");s.content.querySelector("sup").textContent=o,s.content.querySelector("sub").textContent=t;const r=document.importNode(s.content,!0);r.querySelector("abbr").insertAdjacentText("beforeend",a.children[1].textContent),a.replaceChild(r,a.children[1]),e[n].isoname=a.children[2].textContent+"-"+o,i.insert_iso(t,e[n].neutrons,e[n]),a.dataset.neutrons=e[n].neutrons,rt(a),this.insertAdjacentElement("afterend",a),a.style.setProperty("--offsetFinal",n+1),a.addEventListener("pointerenter",()=>clearTimeout(Ze)),a.addEventListener("pointerleave",()=>{document.querySelector("ol > li.Active.Tope")||(Ze=setTimeout(it,300))})}!function(e,t){const n=1.1*t[0].offsetWidth;let a=!1,o=!1;function i(t){if(t.target.closest(".isoname"))return;document.addEventListener("pointermove",c),document.addEventListener("pointerup",l);const n=t.target.closest(".Tope");if(n){a={},a.index=n.style.getPropertyValue("--offset");const o=e.getBoundingClientRect();a.X=o.left+t.offsetX,a.Y=o.top+t.offsetY}}function s(e){if(!a)return;o=!0;const t=Math.max(Math.min((e.clientX-a.X)/a.index,n),-1*n),i=Math.max(Math.min((e.clientY-a.Y)/a.index,n),-1*n),s=document.querySelector("ol.Fanned");s&&(s.style.setProperty("--shiftX",t+"px"),s.style.setProperty("--shiftY",i+"px"))}const c=r(s,200);function l(e){document.removeEventListener("pointermove",c),document.removeEventListener("pointerup",l),o&&e.target.dispatchEvent(new Event("pointerdown")),a=o=!1}t.forEach(e=>e.addEventListener("pointerdown",i))}(this,document.querySelectorAll("ol > li.Tope")),document.querySelectorAll(`ol > li.Tope[data-atomic="${t}"]`).forEach(e=>e.style.setProperty("--offset",e.style.getPropertyValue("--offsetFinal"))),Xe("Isotope").dispatchEvent(i.changeProperty)}async function at(e){e.target.classList.contains("Tope")&&(Ye.className=await i.value(e.target.dataset.atomic,e.target.dataset.neutrons,"decaymode"))}function ot(){Ye.className=this.getElementsByTagName("dt")[0].className}function it(){Ye.className=Ye.dataset.default}function st(){[...Xe("Ptable").getElementsByClassName("Tope")].forEach(e=>rt(e))}function rt(e){const t=c(Number(e.dataset.atomic),Xe("Wide").checked?i.table_map.wide:i.table_map.traditional);!1!==t&&function(e,t){this.style.gridColumnStart=e+1+1,this.style.gridRowStart=t+1+1}.call(e,...t)}const ct={activate:function(){document.documentElement.classList.add("Isotope"),Je(),Xe("Ptable").addEventListener("activateElement",et),Xe("Ptable").addEventListener("deactivateElement",tt),Xe("Ptable").addEventListener("hoverElement",at)},cleanup:function(){Je(),Xe("Ptable").removeEventListener("activateElement",et),Xe("Ptable").removeEventListener("deactivateElement",tt),document.documentElement.classList.remove("Isotope")}};Ye.dataset.default=Ye.className,document.querySelectorAll("#DecayModes > div").forEach(e=>e.addEventListener("pointerenter",ot)),Xe("DecayModes").addEventListener("pointerleave",it),Xe("Wide").addEventListener("change",st),Xe("RemoveIsotopes").addEventListener("click",Je),function(){const e=Xe("Isotope").querySelectorAll(':scope > input:not([value="isotopes"])'),t=Xe("Isotope").querySelectorAll(':scope > input[value="isotopes"]'),n=(e,t)=>e.forEach(e=>e.disabled=!t);Xe("Ptable").addEventListener("activateElement",a=>{a.target.classList.contains("Tope")||(n(e,!0),n(t,!1))}),Xe("Ptable").addEventListener("deactivateElement",a=>{a.target.classList.contains("Tope")||(n(e,!1),n(t,!0))})}();const lt=e=>document.getElementById(e),ut=lt("CompoundResults"),dt=!window.matchMedia("(hover: none), (pointer: coarse)").matches;let mt,pt=[];function ht(e){const t=e=>{e.dataTransfer.setData("text",e.currentTarget.dataset.atomic),e.dataTransfer.setData("element","")};i.atomic_map.forEach(n=>{n.setAttribute("draggable",e),e?(n.ondragstart=t,n.ondragend=()=>lt("CompoundDragTarget").classList.remove("DragOver")):n.ondragstart=n.ondragend=null})}function ft(e){const t=e.dataTransfer?Number(e.dataTransfer.getData("text")):Number(e.target.dataset.atomic),n=lt("CompoundDragTarget").querySelector(`[data-atomic="${t}"]`);n&&n.remove(),e.preventDefault&&e.preventDefault()}async function gt(e){function t(e,t){if(e.dataset.count=Number(e.dataset.count)+t,e.dataset.count<="-1"){ft({target:e});const t=Number(e.dataset.atomic);i.atomic_map.get(t).dispatchEvent(new Event("pointerdown"))}else e.querySelector("abbr").dataset.count=e.dataset.count}e.preventDefault(),e.stopPropagation();const n=e.dataTransfer?Number(e.dataTransfer.getData("text")):Number(e.target.dataset.atomic),a=lt("CompoundDragTarget"),o=a.querySelector(`[data-atomic="${n}"]`);if(!await i.value(n,void 0,"compounds")){a.querySelectorAll("[data-atomic]").forEach(e=>e.remove())}if(o);else{const e=lt("CompoundArrows"),a=document.importNode(e.content,!0);a.querySelector(".Up").addEventListener("click",e=>t(e.currentTarget.closest("[data-atomic]"),1)),a.querySelector(".Down").addEventListener("click",e=>t(e.currentTarget.closest("[data-atomic]"),-1)),a.firstElementChild.dataset.atomic=n,a.firstElementChild.dataset.symbol=await i.value(n,void 0,"symbol"),a.firstElementChild.dataset.count="0";const o=i.atomic_map.get(n).cloneNode(!0);o.style.backgroundColor="",dt&&(o.setAttribute("draggable",!0),o.ondragstart=function(e){e.dataTransfer.setData("text",this.closest("[data-atomic]").dataset.atomic),e.dataTransfer.setData("element",""),document.ondrop=ft,document.ondragover=vt},o.ondragend=function(){document.ondrop=document.ondragover=null,lt("CompoundDragTarget").classList.remove("DragOver")}),a.firstElementChild.insertBefore(o,a.querySelector(".Down")),lt("CompoundDragTarget").appendChild(a)}}function vt(e){e.dataTransfer.types.includes("element")&&e.preventDefault()}function Et(e){e&&bt(ut,e.matches,e.totalresults,e.formula)}function yt(e){for(;ut.lastChild;)ut.lastChild.remove();Object.keys(e).length||(e.counts=[]);new Map([...i.atomic_map].map(([t,n])=>[n,e.counts[t]])).forEach((e,t)=>i.insert(t.dataset.atomic,"compounds",e)),bt(ut,e.matches,e.totalresults,e.formula),ut.scrollTop=0,lt("Compound").dispatchEvent(i.changeProperty),lt("CompoundResults").classList.remove("Dim")}function bt(e,t=[],n,a){function o(){if(mt===this)return;const e=this.ordered;for(let t=0;t<pt.length;t++)e.includes(pt[t]);mt=this}const i=document.createDocumentFragment();var s;t.forEach(e=>{const t=document.createElement("li"),a=document.createElement("label"),s=document.createRange().createContextualFragment(function(e){let t=e;return t=t.replace(/([A-Z][a-z]?)(\d+)/g,"$1<sub>$2</sub>"),t=t.replace(/\^(\d+)/g,"<sup>$1</sup>"),t=t.replace(/(\]|\))(n|\d+)/g,"$1<sub>$2</sub>"),t=t.replace(/x/g,"<i>x</i>"),t}(e.molecularformula));a.appendChild(s),t.appendChild(a);const r=e.allnames,c=e.articles;for(let e=0;e<r.length;e++)if(0===e||""===c[0]&&""!==c[e]||1===n){const n=document.createElement("a");""!==c[e]&&(n.href="//en.wiki.sxisa.org/wiki/"+encodeURIComponent(c[e].replace(/ /g,"_"))),n.textContent=r[e],t.appendChild(n)}t.addEventListener("pointerenter",o);const l=e.ordered.split(",");for(let e=0;e<l.length;e++)l[e]=parseInt(l[e],10);t.ordered=l,i.appendChild(t)}),e.appendChild(i),ut.getElementsByTagName("li").length<n&&"IntersectionObserver"in window&&(s=e.lastElementChild,new IntersectionObserver(Lt,{root:ut,threshold:.5}).observe(s))}function wt(e,t){const n=lt("CompoundResults").dataset.query,a=[];n&&a.push("formula="+n),e&&a.push("offset="+e);let o=a.join("_");""===o&&(o="DEFAULT.json"),fetch("./JSON/compounds/"+o).then(e=>e.ok?e.json():{}).catch(e=>(reportError(e),{})).then(e=>{t(e)})}function Lt(e){e[0].isIntersecting&&(this.disconnect(),wt(ut.getElementsByTagName("li").length,Et))}const St=s(Ct,10);function Ct(){const e=[...document.querySelectorAll("#CompoundDragTarget > div")].map(e=>e.dataset.symbol+(Number(e.dataset.count)||""));ut.classList.add("Dim"),ut.dataset.query=e.sort().join(""),wt(0,yt)}const Tt={activate:function(){var e;if(document.documentElement.classList.add("Compound"),e=lt("CompoundDragTarget"),new MutationObserver(St).observe(e,{childList:!0}),Ct(),lt("Ptable").addEventListener("activateElement",gt),lt("Ptable").addEventListener("deactivateElement",ft),dt){ht(!0);const e=lt("CompoundDragTarget");e.ondrop=gt,e.ondragover=vt,e.ondragenter=()=>e.classList.add("DragOver"),e.ondragleave=()=>e.classList.remove("DragOver")}},cleanup:function(){lt("Ptable").removeEventListener("activateElement",gt),lt("Ptable").removeEventListener("deactivateElement",ft);const e=lt("CompoundDragTarget");e.ondrop=e.ondragover=e.ondragenter=e.ondragleave=null,document.documentElement.classList.remove("Compound"),ht(!1)}},Nt=e=>document.getElementById(e);function xt(e){function t(e){const t=document.querySelector(`header a[href^="#${e}"]`);if(t){return t.closest("label").previousElementSibling.id.replace(/Tab$/,"")}}function n(e){return(e=e.split("#"))[1]?e[1].split("/"):[""]}const a={Reset:j,Property:je,Electron:Ve,Isotope:ct,Compound:Tt},o=n(e.oldURL),s=t(o[0]),r=n(e.newURL),c=t(r[0]);if(s!==c){if("Reset"!==s&&"Reset"!==c||(document.documentElement.classList.add("SmoothResize"),document.getElementsByTagName("aside")[0].addEventListener("transitionend",At)),!a[c])return void It("#"+o.slice(0,1).join("/"),!0);a[s]&&a[s].cleanup(),document.getElementById(c+"Tab").checked=!0,a[c].activate()}const l=[...Nt(c).querySelectorAll(':scope > input[type="radio"]')].find(e=>Mt(Pt(e))===decodeURIComponent(r[1]));if(l){if(l.checked=!0,r[2]){const e=l.nextElementSibling.querySelector("label > select"),t=[...e.options].find(e=>Mt(e.textContent)===decodeURIComponent(r[2]));t?e.value!==t.value&&(e.value=t.value,e.dispatchEvent(new Event("change"))):(e.selectedIndex=0,It("#"+r.slice(0,2).join("/"),!0))}}else Nt(c).querySelector("input:checked").checked=!0,It("#"+r.slice(0,1).join("/"),!0);Nt(c).dispatchEvent(i.changeProperty)}function kt(e){return Nt(e+"Tab").nextElementSibling.querySelector("a").textContent}function qt(e){const t=this.querySelector("input:checked"),n=[kt(e.currentTarget.id)];n.push(Mt(Pt(t)));const a=t.nextElementSibling.querySelector("label > select");a&&n.push(Mt(a.options[a.selectedIndex].text));const o="#"+n.map(encodeURIComponent).join("/");It(o,!1===e.detail),document.querySelector("nav > input[type=radio]:checked + label > a").href=o}function Pt(e){return e.nextElementSibling.getElementsByTagName("span")[0].textContent}function Mt(e){return(t=e,t.replace(/[^\s]+/g,e=>e.replace(/^./,e=>e.toUpperCase()))).replace(/\s/g,"");var t}function At(e){e.target===this&&(this.removeEventListener("transitionend",At),document.documentElement.classList.remove("SmoothResize"))}function It(e,t){t?history.replaceState(null,"",e):window.location.hash=e}!function(){window.addEventListener("hashchange",xt,!1);const e="#"+kt("Property"),t="#"+encodeURIComponent(kt("Property"));""===window.location.hash&&"#"!==window.location.href.slice(-1)?It(t,!0):window.location.hash===e||xt({oldURL:t,newURL:window.location.hash}),document.querySelectorAll('header input[name="Tab"]').forEach(e=>e.addEventListener("click",()=>e.nextElementSibling.querySelector("a").click())),Nt("Property").addEventListener("change",qt),Nt("Electron").addEventListener("change",qt),Nt("Isotope").addEventListener("change",qt)}();const $t=e=>document.getElementById(e),Rt=!window.matchMedia("(hover: none), (pointer: coarse)").matches;let _t=!0;function Dt(e){e.forEach(e=>{e.addedNodes.forEach(e=>{jt(e,!0),e.addEventListener("focus",Ft),e.addEventListener("keypress",Wt),e.addEventListener("keyup",Kt)})})}const Bt=s(e=>{document.querySelector("ol > li.Active.Tope")||e.target.dispatchEvent(i.hoverElement)},50);function Ot(e,t){$t("Ptable").classList.toggle("Hover",t),[...e].forEach(e=>jt(e,t))}function jt(e,t){t?(e.addEventListener("pointerenter",Bt),e.addEventListener("focusin",Bt)):(e.removeEventListener("pointerenter",Bt),e.removeEventListener("focusin",Bt))}async function Ft(e){if(!_t)return;const t=await i.value(e.target.dataset.atomic,void 0,"compounds");let n;document.documentElement.classList.contains("Compound")&&!t&&document.querySelectorAll("ol > li.Active").forEach(e=>{Ut({currentTarget:e}),Gt.call(e)});const a=Number(getComputedStyle(document.querySelector("article")).getPropertyValue("--lock")),o=e.target.classList.contains("Tope")?".Tope":"";for(;n=document.querySelectorAll("ol > li.Active"+o),n.length&&n.length>=a;)Ut({currentTarget:n[0]});a>0?function(e){const t=e.currentTarget;t.classList.add("Active"),t.dispatchEvent(i.activateElement),t.removeEventListener("focus",Ft),t.addEventListener("pointerdown",Ut),t.removeEventListener("pointerleave",Gt);Number(getComputedStyle(document.querySelector("article")).getPropertyValue("--lock"))>=1&&Ot(i.atomic_map.values(),!1)}({currentTarget:e.target}):!0===e.force&&e.target.dispatchEvent(i.activateElement)}function Ut(e){const t=e.currentTarget;t.classList.remove("Active"),t.dispatchEvent(i.deactivateElement),setTimeout(()=>t.addEventListener("focus",Ft),150),t.removeEventListener("pointerdown",Ut),Rt&&(t.addEventListener("pointerleave",Gt),t.classList.contains("Tope")||Ot(i.atomic_map.values(),!0))}function Ht(e){("Tab"===e.key||e.key.startsWith("Arrow"))&&(_t=!1)}function zt(e){("Tab"===e.key||e.key.startsWith("Arrow"))&&(_t=!0)}function Wt(e){"Enter"===e.key&&(this.classList.contains("Active")?Ut({currentTarget:this}):Ft({target:this,force:!0}))}function Kt(e){"Escape"===e.key&&this.classList.contains("Active")&&Ut({currentTarget:this})}function Gt(){this.blur()}var Vt;Rt&&Ot(i.atomic_map.values(),!0),i.atomic_map.forEach(e=>e.addEventListener("focus",Ft)),i.atomic_map.forEach(e=>e.addEventListener("keypress",Wt)),i.atomic_map.forEach(e=>e.addEventListener("keyup",Kt)),document.addEventListener("keydown",Ht),document.addEventListener("keyup",zt),Vt=$t("Ptable"),new MutationObserver(Dt).observe(Vt,{childList:!0}),i.atomic_map.get(1).dispatchEvent(i.hoverElement),window.onload=()=>{import("./extra-59fbde3d.js").catch(reportError);let bt;"serviceWorker"in navigator?(navigator.serviceWorker.register("./service-worker.js").then(reg =>{setTimeout(()=>{!navigator.serviceWorker.controller&&window.location.reload()},1000)}),navigator.serviceWorker.addEventListener("controllerchange",()=>{bt||(bt=!0,window.location.reload())})):(confirm("您的浏览器暂支持serviceWorker，暂时无法正常运行本网站。\n是否为您跳转到原网站？")&&(location.href="https://ptable.com/?lang=zh"));};export{i as P,c as f,w as g,l as s,r as t};