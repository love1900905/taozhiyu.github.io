/**
 * @license
 * Copyright 2020 Michael Dayah - All Rights Reserved.
 * PtableÂ® is a registered trademark of Michael Dayah.
 * Copyright covers all JavaScript, CSS, and HTML.
 * Electronic redistribution in any form is strictly prohibited.
 * 
 */

import{P as t,t as e,g as n,f as o,s as a}from"./required-3e873030.js";const r=t=>document.getElementById(t),i=document.documentElement.dataset.iso;function s(t,e,n=t.target.href){if(screen.width*screen.height<614400||!navigator.onLine||t.altKey||t.ctrlKey||t.shiftKey||t.metaKey||t.button&&t.button>0)return;t.preventDefault(),c(t);const o=document.createElement("figure");o.id="Clone";const a=function(){const t=this.getBoundingClientRect();return{top:t.top,left:t.left,bottom:document.documentElement.clientHeight-t.bottom,right:document.documentElement.clientWidth-t.right}}.call(e);for(const t in a)o.style[t]=a[t]+"px";o.style.backgroundColor=o.style.borderColor=window.getComputedStyle(e).getPropertyValue("background-color"),o.classList.add("Clone");const r=document.createElement("button");r.addEventListener("click",c,{capture:!0}),o.appendChild(r),document.body.appendChild(o),o.offsetWidth;const i=document.createElement("iframe");i.sandbox="allow-scripts allow-same-origin";const s=(n=n.split("#"))[0].replace(/ /g,"_").replace(/^.*\/\/([a-z]+).wikipedia.org\/wiki\//,(a,b)=>{if(b!=="isotopes")return "http://zh.wiki.sxisa.org/wiki/";else return "http://en.wiki.sxisa.org/wiki/"}),l=n[1]?"#"+n[1]:"";i.src=`${s}${l}`,o.appendChild(i),o.addEventListener("transitionend",(function(t){"top"===t.propertyName&&this.classList.add("ExpandDone")}),!0);for(const t in a)o.style[t]="";o.style.backgroundColor="",document.body.classList.add("Overlay"),o.classList.add("Expand")}function c(e){if(e.key&&"Escape"!==e.key)return;document.body.classList.remove("Overlay");const n=r("Clone");if(n){n.classList.add("Disappear"),n.addEventListener("transitionend",()=>n.remove());const e=document.querySelector(".name ol > li.Active");e&&t.atomic_map.get(Number(e.dataset.atomic)).dispatchEvent(new Event("pointerdown"))}}r("CloseUp").querySelector("a").addEventListener("click",t=>{let e;r("CloseUp").classList.contains("Tope")&&(e=t.target.href.replace("//en.","//isotopes.")),s(t,r("CloseUp"),e)}),r("Series").querySelectorAll("a").forEach(t=>t.addEventListener("click",e=>s(e,t.closest("dt, dd")))),r("DecayModes").querySelectorAll("a").forEach(t=>t.addEventListener("click",e=>s(e,t.closest("div")))),document.querySelector('[value="name"] + li').addEventListener("click",t=>{"A"===t.target.nodeName&&s(t,r("CloseUp"))}),document.querySelector('[value="isoname"] + li').addEventListener("click",t=>{if("A"===t.target.nodeName){const e=t.target.href.replace("//en.","//isotopes.");s(t,r("CloseUp"),e)}}),r("Ptable").querySelectorAll(".Group > a").forEach(t=>t.addEventListener("click",e=>s(e,t.closest(".Group")))),r("CompoundResults").addEventListener("click",t=>{if("A"===t.target.nodeName&&""!==t.target.href){const e=t.target.href.replace("//en.","//compounds.");s(t,t.target.closest("li"),e)}}),r("Ptable").addEventListener("activateElement",async e=>{if(document.querySelector(".Property .name")){const n=await t.value(e.target.dataset.atomic,void 0,"wiki"),o=`//${i}.wikipedia.org/wiki/${n}`;s(e,e.target,o)}if(e.target.classList.contains("Tope")&&document.querySelector(".Isotope .isoname")){const n="//isotopes.wikipedia.org/wiki/"+await t.value(e.target.dataset.atomic,e.target.dataset.neutrons,"isowiki");s(e,e.target,n)}}),document.addEventListener("keydown",c);const l=t=>document.getElementById(t);let d;function u(){window.addEventListener("pointerup",(function t(){clearInterval(d),window.removeEventListener("pointerup",t)}));const t=this.closest(".Slider").querySelector('input[type="range"]');t.value=Number(t.value)+Number(this.dataset.skip),d=setTimeout(()=>u.call(this),125),t.dispatchEvent(new Event("input"))}const m=e((function(){const e=parseInt(this.value,10);isNaN(e)||(l("Year").value=l("YearRange").value=e);!async function(e){const n=(await t.value(void 0,void 0,"discover")).map(Number);t.atomic_map.forEach((t,o)=>{const a=!n[o]||n[o]<=e;t.classList.toggle("Undiscovered",!a)})}(e)}),50);function f(){const t=l("YearRange");t.value=t.getAttribute("max"),t.dispatchEvent(new Event("input"))}l("YearRange").oninput=l("Year").oninput=m,l("YearAdd").addEventListener("pointerdown",u),l("YearSub").addEventListener("pointerdown",u),document.querySelector("#SliderYear > label").onclick=f,document.querySelector("#ResetTab + label").addEventListener("click",f);const h=t=>document.getElementById(t);function g(t){function e(t){this.classList.toggle("NoSelect",!t),this.querySelectorAll("a, input, select, [tabindex]").forEach(e=>e.tabIndex=t?0:-1),this.querySelectorAll("select").forEach(t=>t.disabled=!Boolean(t.options.length-1))}t.forEach(t=>e.call(t.target,t.isIntersecting))}function p(t,e){const n=new IntersectionObserver(e,{root:t,threshold:1,rootMargin:"10px"});[...t.children].forEach(t=>n.observe(t))}"IntersectionObserver"in window&&(p(h("KeyRegion"),g),p(h("DataRegion"),g));const v=t=>document.getElementById(t),y=v("SearchBox");let E;function b(){document.removeEventListener("keydown",w),E&&E.disconnect(),document.querySelector("aside").removeEventListener("changeProperty",L),document.body.classList.remove("SearchActive"),v("SearchButton").checked=!1,y.value="",S()}function w(t){"Escape"===t.key&&b()}function L(){v("SearchButton").checked&&y.dispatchEvent(new Event("input"))}async function S(){const e=document.querySelector('[name="searchtype"]:checked').value,o=y.value||"MichaelDayah";y.setAttribute("placeholder",y.dataset["placeholder"+e]);let a=document.querySelector(t.activeProperty);["name","series"].includes(a.value)&&(a=document.querySelector('input[value="weight"]'));const r=await n(a,"search");let i,s,c;t.atomic_map.has(Number(o))&&(i=t.atomic_map.get(Number(o))),"-"===o.charAt(0)?(c="~",s=Number(o)):[">","<","=","~"].includes(o.charAt(0))?(c=o.charAt(0),s=Number(o.substring(1))):o.substring(1).includes("-")||o.includes("..")?(c="-",s=o.split(/-|\.\./)):isNaN(o)?(c="S",s=o.toLowerCase()):(c="~",s=Number(o)),["oxidation"].includes(a.value)&&(c="S");let l=[];if("="===c)l=[...r].filter(([t,e])=>e==s);else if("<"===c)l=[...r].filter(([t,e])=>Number(e)<s);else if(">"===c)l=[...r].filter(([t,e])=>Number(e)>s);else if("-"===c&&2===s.length)l=[...r].filter(([t,e])=>e>=Number(s[0]||Number.MIN_VALUE)&&e<=Number(s[1]||Number.MAX_VALUE));else if("~"===c){let t=[...r.values()].filter(t=>null!=t).reduce((t,e)=>Math.min(Math.abs(e-s),t),Number.MAX_VALUE);l=[...r].filter(([e,n])=>Math.abs(n-s)<=t)}else"S"===c&&(l=[...r].filter(([t,e])=>String(e).toLowerCase().includes(s)));l.length||(l=[...r].filter(([t,e])=>t.children[1].textContent.toLowerCase()===s)),l.length||(l=[...r].filter(([t,e])=>t.children[2].textContent.toLowerCase().includes(s))),l=l.map(t=>t[0]),l.length?i&&(l[0]!==i||l.length>1)?("atomic"===e&&(l=[i]),v("SearchType").classList.add("Ambiguous")):v("SearchType").classList.remove("Ambiguous"):(i&&l.push(i),v("SearchType").classList.remove("Ambiguous")),function(e){document.querySelectorAll("ol > li").forEach(t=>t.classList.toggle("Dim",!e.includes(t))),1===e.length&&(e[0].dispatchEvent(t.hoverElement),e[0].scrollIntoView(!1))}(l)}v("SearchButton").addEventListener("click",t=>t.currentTarget.checked?(document.addEventListener("keydown",w),document.body.classList.add("SearchActive"),document.querySelector("aside").addEventListener("changeProperty",L),E=function(t,e){const n=new MutationObserver(e);return n.observe(t,{childList:!0}),n}(v("Ptable"),L),y.dispatchEvent(new Event("input")),void setTimeout(()=>y.focus(),100)):b()),document.querySelector("#ResetTab + label").addEventListener("click",b),y.addEventListener("input",S),v("AtomicSearch").addEventListener("change",S),v("PropertySearch").addEventListener("change",S);function k(e){const n=document.activeElement.dataset.atomic,o=Number(Array.from(t.atomic_map.values()).pop().dataset.atomic),a={ArrowDown:t=>A(t,1),ArrowUp:t=>A(t,-1),ArrowLeft:t=>Math.max(1,--t),ArrowRight:t=>Math.min(++t,o)};if(!n||!a[e.key])return;const r=Number(n),i=a[e.key](r);t.atomic_map.get(i).focus()}function A(e,n){const a=(t=>document.getElementById(t))("Wide").checked?t.table_map.wide:t.table_map.traditional,r=o(e,a);let i;return r[1]+=n,7===r[1]&&(r[1]+=n),r[1]>=0&&r[1]<a.length&&(i=a[r[1]][r[0]]),i||e}document.addEventListener("keydown",k);const x=t=>document.getElementById(t),C=x("Ptable").dataset.classes.split(" ");function R(){x("Ptable").classList.add(...C)}function T(){x("Ptable").classList.remove(...C),x("Ptable").classList.add(this.classList.value)}x("Blocks").querySelectorAll("dt").forEach(t=>t.addEventListener("pointerenter",T)),x("Blocks").addEventListener("pointerleave",R);const B=t=>document.getElementById(t);!function(){const t=["Solid","Liquid","Gas","UnknownState"];t.forEach(e=>{B("StateOfMatter").querySelector("."+e).addEventListener("pointerenter",()=>{B("PropertyClass").classList.contains("state")||(B("Ptable").classList.remove(...t),B("Ptable").classList.add(e))}),B("StateOfMatter").addEventListener("pointerleave",()=>B("Ptable").classList.remove(...t))})}();const P=t=>document.getElementById(t),D=P("Ptable").dataset.classes.split(" ");function _(){P("Ptable").classList.add(...D)}function I(){P("Ptable").classList.remove(...D),this.dataset.classes?P("Ptable").classList.add(...this.dataset.classes.split(" ")):P("Ptable").classList.add(...this.classList)}[...P("Series").children].forEach(t=>{t.addEventListener("pointerenter",I),t.addEventListener("focusin",I),t.addEventListener("focusout",_)}),P("Series").addEventListener("pointerleave",_);const q=t=>document.getElementById(t);function N(e){document.documentElement.classList.add("NoTransitions"),document.documentElement.classList.toggle("Dark",this.checked),q("DarkButton").checked=q("DarkButtonFooter").checked=this.checked,e.isTrusted&&a("Theme",this.checked?"Dark":"Light",7);const n=document.querySelector(t.activeProperty);n&&n.dispatchEvent(t.recolorTable),document.documentElement.offsetHeight,document.documentElement.classList.remove("NoTransitions")}q("DarkButton").addEventListener("change",N),q("DarkButtonFooter").addEventListener("change",N),q("DarkButton").checked=q("DarkButtonFooter").checked=document.documentElement.classList.contains("Dark");const z=t=>document.getElementById(t);let M;function U(t){t.key&&"Enter"!==t.key||(z("Wide").checked=!0,F.call(z("Wide"),{isTrusted:!0}))}function F(t){z("Wide").checked=z("WideFooter").checked=this.checked,clearTimeout(M),M=t.isTrusted?setInterval(W,120,this.checked?1:-1):setInterval(W,0,this.checked?15:-15)}function W(t){const e=Number(document.documentElement.dataset.wide)+t;e<0||e>15?clearInterval(M):(document.documentElement.dataset.wide=e,document.documentElement.style.setProperty("--groups",Math.min(32,e+18)))}!function(){z("Wide").addEventListener("change",F),z("WideFooter").addEventListener("change",F),z("Wide").dispatchEvent(new Event("change")),z("VerticalInner").addEventListener("click",U),document.querySelectorAll(".Label57to71, .Label89to103").forEach(t=>t.addEventListener("keypress",U));const e=Array(15).fill().map((t,e)=>e+1);for(let n=0;n<15;n++)t.atomic_map.get(103-n).dataset.wide=e.slice(n).join(" "),t.atomic_map.get(71-n).dataset.wide=e.slice(n).join(" ")}();function O(){document.querySelector("footer").classList.toggle("Menu",this.checked)}(t=>document.getElementById(t))("Menu").addEventListener("change",O);const $=t=>document.getElementById(t),H=document.getElementsByTagName("aside")[0];function Y(t){t.matches&&$("SidebarToggle").checked&&(document.documentElement.classList.toggle("Sidebar",!1),$("TopbarToggle").checked=!0)}function j(){H.removeEventListener("transitionend",G),H.removeEventListener("transitionend",X),document.documentElement.classList.remove("Collapse","SmoothResize"),document.documentElement.offsetHeight,document.documentElement.classList.contains("Reset")?V():(document.documentElement.classList.add("SmoothResize","Collapse"),H.addEventListener("transitionend",G))}function V(){document.documentElement.classList.toggle("Sidebar",$("SidebarToggle").checked),a("Layout",$("SidebarToggle").checked?"Sidebar":"Topbar",3)}function G(t){t.target===this&&t.propertyName.startsWith("flex")&&(this.removeEventListener("transitionend",G),V(),document.documentElement.classList.remove("Collapse"),H.addEventListener("transitionend",X))}function X(t){t.target===this&&t.propertyName.startsWith("flex")&&(this.removeEventListener("transitionend",X),document.documentElement.classList.remove("SmoothResize"))}!function(){$("SidebarToggle").checked=document.documentElement.classList.contains("Sidebar"),$("SidebarToggle").addEventListener("change",j),$("TopbarToggle").addEventListener("change",j),document.querySelector("#ResetTab + label").addEventListener("click",()=>{document.documentElement.classList.contains("Reset")&&a("Layout","")});const t=window.matchMedia("(max-width: 550px)");t.addListener(Y),Y({matches:t.matches})}();function K(){this.closest("form").submit()}const J=t=>document.getElementById(t);function Q(){!function(){const e=function(t){const e=[];for(let n=0;n<=t.length-1+t[0].length-1;n++){e[n]=[];for(let o=0;o<=n;o++){const a=o,r=n-o;if(r<t.length&&a<t[r].length){const o=t[r][a];void 0!==o&&e[n].push(o)}}}return e}(J("Wide").checked?t.table_map.wide:t.table_map.traditional);for(let n=0;n<e.length;n++)for(let o=0;o<e[n].length;o++){const a=.05*n+.5;t.atomic_map.get(e[n][o]).style.setProperty("--shine",a+"s")}}(),J("Ptable").classList.remove("Delay"),J("Ptable").classList.add("Shine"),document.addEventListener("pointerdown",Z)}function Z(){J("Ptable").classList.remove("Shine","Delay"),document.removeEventListener("pointerdown",Z)}Array.from(t.atomic_map.values()).pop().addEventListener("animationend",t=>{"shine"===t.animationName&&Z()}),document.querySelector("#ResetTab + label").addEventListener("click",()=>{document.documentElement.classList.contains("Reset")&&Q()}),Q();const tt=t=>document.getElementById(t);let et,nt,ot,at=window.innerWidth,rt=window.innerHeight;const it=e((function(){const t=[];window.innerWidth<at-200&&t.push(at-window.innerWidth);at=window.innerWidth,window.innerHeight<rt-200&&t.push(rt-window.innerHeight);rt=window.innerHeight,nt=Math.max(...t),nt>1&&(clearInterval(et),et=setInterval(st,50))}),1e3/3);function st(){clearTimeout(ot),nt/=1.4,nt<1&&clearInterval(et),tt("Series").style.borderRight=""==tt("Series").style.borderRight?"medium solid var(--blocks)":"",tt("Series").style.borderLeft=""==tt("Series").style.borderLeft?"medium solid var(--blocks)":"",ot=setTimeout(ct,100)}function ct(){tt("Series").style.borderRight=tt("Series").style.borderLeft=""}let lt;!Boolean(window.chrome)||window.opera||window.opr||window.addEventListener("resize",it);const dt=-Math.PI/6,ut="\n\tprecision highp float;\t\t\t\t// Use 32 bit floats\n\tuniform vec3 uRot;\t\t\t\t\t// Rotation\n\tuniform float uScale;\t\t\t\t// Scale\n\tuniform float uDensity;\t\t\t\t// Density isovalue\n\tuniform float uSlice;\t\t\t\t// Slice angle\n\tuniform vec3 uColorA;\t\t\t\t// Colour A\n\tuniform vec3 uColorB;\t\t\t\t// Colour B\n\tvarying highp vec3 vPos;\t\t\t// Face interpolated position from vertex shader\n\tconst float ambient = 0.3;\t\t\t\t\t\t\t\t\t// Ambient light intensity\n\tconst float light1Intensity = 1.1;\t\t\t\t\t\t\t// Primary light intensity\n\tconst float light2Intensity = 0.3;\t\t\t\t\t\t\t// Secondary light intensity\n\tconst vec3 light1Direction = vec3(0.393, -0.393, 0.262);\t// Primary light direction\n\tconst vec3 light2Direction = vec3(-0.433, 0.433, 0.216);\t// Secondary light direction\n\tconst float gradientDistance = 0.001;\t\t\t\t\t\t// Distance to measure for derivative\n\tconst float zStep = 1.0;\n\t// Pitch and yaw rotation helpers. Computing rotation purely in\n\t// vertex program to remove the need for js matrix functions\n\tmat4 rotation_pitch(in float radians) {\n\t\treturn mat4(1, 0, 0, 0, 0, cos(radians), -sin(radians), 0, 0, sin(radians), cos(radians), 0, 0, 0, 0, 1);\n\t}\n\tmat4 rotation_yaw(in float radians) {\n\t\treturn mat4(cos(radians), 0, sin(radians), 0, 0, 1, 0, 0, -sin(radians), 0, cos(radians), 0, 0, 0, 0, 1);\n\t}\n\t// Evaluate probability density function\n\tfloat eval(vec3 p) {\n\t\tfloat r = length(p);\n\t\tfloat cosine = p.y / r;\n\t\tfloat sine = length(p.xz) / r;\n\t\tfloat cosx = p.x / r;\n\t\t@formula;\n\t\treturn w * uDensity;\n\t}\n\t// Evaluate probability density function and square result\n\tfloat evalAndSquare(vec3 p) {\n\t\tfloat t = eval(p);\n\t\treturn t * t - 0.01;\n\t}\n\t// Transform 2D position + depth by rotation matrix\n\tvec3 transform(vec2 pos, float z, mat4 mat) {\n\t\treturn (mat * vec4(pos * (60.0 + z * 0.05) , z, 1.0)).xyz * (1.0 / uScale);\n\t}\n\t// Compute density gradient\n\tvec3 derivative(vec3 pos, mat4 mat) {\n\t\tfloat f0 = eval(pos);\n\t\treturn normalize(vec3(\n\t\t\t(eval(pos + (mat * vec4(gradientDistance, 0.0, 0.0, 1.0)).xyz) - f0) / gradientDistance,\n\t\t\t(eval(pos + (mat * vec4(0.0, gradientDistance, 0.0, 1.0)).xyz) - f0) / gradientDistance,\n\t\t\t(eval(pos + (mat * vec4(0.0, 0.0, gradientDistance, 1.0)).xyz) - f0) / gradientDistance\n\t\t));\n\t}\n\t// Refine surface after rough raymarch intersection\n\tfloat refine(vec2 pos, vec4 in_range, mat4 mat) {\n\t\tvec4 range = in_range.y > 0.0 ? in_range : in_range.zwxy;\n\t\tfloat e3 = (range.x + range.z)*0.5;\n\t\tfloat g3 = evalAndSquare(transform(pos, e3, mat));\n\t\tfor(int i=0; i<5; ++i) {\n\t\t\te3 = (range.x + range.z)*0.5;\n\t\t\tg3 = evalAndSquare(transform(pos, e3, mat));\n\t\t\tif (g3 > 0.0) {\n\t\t\t\trange = vec4(e3, g3, range.zw);\n\t\t\t}\n\t\t\tif (g3 < 0.0) {\n\t\t\t\trange = vec4(range.xy, e3, g3);\n\t\t\t}\n\t\t}\n\t\treturn e3;\n\t}\n\t// Fragment shader main\n\tvoid main() {\n\t\tvec2 pos = vPos.xy;\n\t\t// Compute final rotation matrix\n\t\tmat4 mat = rotation_yaw(uRot.y) * rotation_pitch(uRot.x);\n\t\t// Calculate wedge shaped slice\n\t\tfloat zSlice = uSlice>0.1?(1.0 - abs(pos.x * ((1.0 - uSlice) * 2.0))) * 80.0 + (pos.y * 80.0 * tan(uRot.x)):1.0;\n\t\t// Ray initial state\n\t\tvec4 range = vec4(\n\t\t\t@zStart + zSlice,\n\t\t\tevalAndSquare(transform(pos, @zStart + zSlice, mat)),\n\t\t\t@zStart + zSlice + zStep,\n\t\t\tevalAndSquare(transform(pos, @zStart + zSlice + zStep, mat)));\n\t\tint state = 0;\n\t\tint nodal = 0;\n\t\tfloat accumulatedDensity = 0.0;\n\t\tif(range.y > 0.0) {\n\t\t\t// Hit surface immediately (sliced)\n\t\t\tstate = 2;\n\t\t} else {\n\t\t\t// March\n\t\t\tfor(float z = @zStart + zStep; z < @zStop; z += zStep) {\n\t\t\t\tif(state == 0) {\n\t\t\t\t\t//if(range.y < 0.0 && range.w > 0.0)\n\t\t\t\t\t\t// Hit nodal plane and continuing\n\t\t\t\t\t\t//nodal = 1;\n\t\t\t\t\tif(range.y * range.w < 0.0) {\n\t\t\t\t\t\t// Surface intersection\n\t\t\t\t\t\tstate = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\trange = vec4(range.zw, z + zSlice, evalAndSquare(transform(pos, z + zSlice, mat)));\n\t\t\t\t\t\taccumulatedDensity += range.w;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(state == 0) {\n\t\t\t// Ray miss, output fully transparent final colour\n\t\t\tfloat finalD = accumulatedDensity;\n\t\t\tgl_FragColor = vec4(finalD, 0.0, 0.0, 0.0);\n\t\t} else {\n\t\t\t// Improve accuracy after coarse ray intersect\n\t\t\tfloat d = refine(pos, range, mat);\n\t\t\t// Get density at refined position\n\t\t\tvec3 transformedPos = transform(pos, d, mat);\n\t\t\tfloat density = eval(transformedPos);\n\t\t\tvec3 normal;\n\t\t\tvec3 albedo;\n\t\t\t// If negative density\n\t\t\tif(density > 0.0) {\n\t\t\t\t// Use surface color A\n\t\t\t\talbedo = uColorA;\n\t\t\t} else {\n\t\t\t\t// Use surface color B\n\t\t\t\talbedo = uColorB;\n\t\t\t}\n\t\t\tif(state == 1) {\n\t\t\t\t// Ray hit surface, compute normal from density gradient\n\t\t\t\tnormal = derivative(transformedPos, mat);\n\t\t\t\tif(density < 0.0) {\n\t\t\t\t\tnormal = -normal;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Ray immediately hit surface, compute normal from slice\n\t\t\t\tif(pos.x > 0.0) {\n\t\t\t\t\tnormal = normalize(vec3(2.0, 0.0, 1.0));\n\t\t\t\t} else {\n\t\t\t\t\tnormal = normalize(vec3(-2.0, 0.0, 1.0));\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Calculate lighting\n\t\t\tvec3 lightColor = vec3(1.0, 1.0, 1.0);\n\t\t\tfloat diffuse1 = max(dot(normal, light1Direction), 0.0) * light1Intensity;\n\t\t\tfloat diffuse2 = max(dot(normal, light2Direction), 0.0) * light2Intensity;\n\t\t\t// Output final fragment colour\n\t\t\tgl_FragColor = vec4(albedo * (diffuse1 + diffuse2 + ambient), 1.0);\n\t\t}\n\t}\n";function mt(t,e,n){const o=t.createShader(e);return t.shaderSource(o,n),t.compileShader(o),t.getShaderParameter(o,t.COMPILE_STATUS)?o:(reportError(t.getShaderInfoLog(o)),t.deleteShader(o),null)}function ft(t){let e=t.toString();return-1===e.indexOf(".")?e+".0":e}function ht(t){let e=1;for(let n=t;n>0;n--)e*=n;return e}function gt(t){return{v:t,a:e=>{let n=[],o=e.v;for(let e=Math.max(t.length,o.length);e--;)n[e]=(t[e]||0)+(o[e]||0);return gt(n)},sub:e=>{let n=[],o=e.v;for(let e=Math.max(t.length,o.length);e--;)n[e]=(t[e]||0)-(o[e]||0);return gt(n)},m:e=>{let n=[],o=e.v;for(let e=t.length;e--;)for(let a=o.length;a--;)n[e+a]=(n[e+a]||0)+t[e]*o[a];return gt(n)},s:e=>{let n=[];for(let o=t.length;o--;)n[o]=e*t[o];return gt(n)},dx:()=>{let e=[];for(let n=t.length;n-- >0;)e[n-1]=n*t[n];return gt(e)},fx:e=>{let n=t.length,o="";switch(n){case 0:return"0.0";case 1:return ft(t[0]);default:for(let t=n-2;t--;)o+="(";o+=ft(t[n-1])+"*"+e,0!==t[n-2]&&(o+="+"+ft(t[n-2]));for(let a=n-2;a--;)o+=")*"+e,0!==t[a]&&(o+="+"+ft(t[a]));return o}}}}const pt=[];function vt({l:t,m:e,n}){const o=function(t,e){let n=gt([0]),o=gt([1]);for(let a=1;a<=t;++a){const t=n;n=o;const r=gt([2*a-1+e,-1]).m(n),i=gt([-(a-1+e)]).m(t);o=r.a(i).s(1/a)}return o}(n-t-1,2*t+1);let a=function(t){const e=t=>{if(pt[t])return pt[t];switch(t){case 0:return gt([1]);case 1:return gt([0,1]);default:{const n=t-1,o=gt([0,2*n+1]).m(e(n));return e(t-2).s(-n).a(o).s(1/t)}}},n=e(t);return pt[n]=n,n}(t);for(let t=e;t--;)a=a.dx();const r=function t(e){switch(e){case 0:return gt([1]);case 1:return gt([0,1]);default:return gt([0,2]).m(t(e-1)).sub(t(e-2))}}(e);return`float rho = r;float w = ${`(${o.fx("rho")}) * pow(rho, ${t}.0) * exp(-rho / 2.0)`} * ${`(${a.fx("cosine")}) * pow(sine, ${ft(e)})`} * ${`(${r.fx("cosx")})`} * ${ft(Math.sqrt((2*t+1)/2*ht(t-e)/ht(t+e))*Math.sqrt(2/n*(2/n)*(2/n)*ht(n-t-1)/(2*n)/ht(n+t))*1)} * r`}function yt(t,e){const n=mt(t,t.VERTEX_SHADER,"\n\tprecision highp float;\t\t\t\t// Use 32 bit floats\n\tattribute vec3 aPos;\t\t\t\t// Vertex object position\n\tuniform vec3 uRot;\t\t\t\t\t// Rotation (pitch / yaw)\n\tvarying highp vec3 vPos;\t\t\t// Pass face interpolated position to fragment shader\n\t// Process vertex\n\tvoid main() {\n\t\t// Pass (interpolated) position to fragment shader\n\t\tvPos = aPos;\n\t\t// Output position\n\t\tgl_Position = vec4(aPos, 1.0);\n\t}\n");if(!n)return null;const o=ut.replace(/\@zStart/gm,"-80.0").replace(/\@zStop/gm,"80.0").replace(/\@formula/gm,e),a=mt(t,t.FRAGMENT_SHADER,o);if(!a)return null;const r=t.createProgram();return t.attachShader(r,n),t.attachShader(r,a),t.linkProgram(r),t.getProgramParameter(r,t.LINK_STATUS)?{program:r,attributes:{aPos:t.getAttribLocation(r,"aPos")},uniforms:{uRot:t.getUniformLocation(r,"uRot"),uScale:t.getUniformLocation(r,"uScale"),uDensity:t.getUniformLocation(r,"uDensity"),uSlice:t.getUniformLocation(r,"uSlice"),uColorA:t.getUniformLocation(r,"uColorA"),uColorB:t.getUniformLocation(r,"uColorB")}}:null}function Et(t,e,n,o,a,r){let i=!1,s={r:1,g:0,b:0},c={r:0,g:0,b:1};const l=function(t){const e={depth:!0,antialias:!1,alpha:!0,stencil:!1,preserveDrawingBuffer:!1};let n=t.getContext("webgl2",e);return n||(n=t.getContext("webgl",e),n)?n:null}(t);if(!l)return null;const d=function(t,e){let n;switch(e){case"xy":n=[-1,-1,0,1,-1,0,1,1,0,-1,1,0];break;case"xz":n=[-1,0,-1,1,0,-1,1,0,1,-1,0,1];break;case"yz":n=[-1,-1,0,1,-1,0,1,1,0,-1,1,0]}const o=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,new Float32Array(n),t.STATIC_DRAW);const a=t.createBuffer();return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,a),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,2,3,0]),t.STATIC_DRAW),{vertexBuffer:o,indexBuffer:a,numTris:6}}(l,"xy"),u=vt(e);let m=yt(l,u);if(!m)return null;function f(){l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),p={pitch:p.pitch+v.pitch,yaw:p.yaw+v.yaw,roll:0};const t={yaw:p.yaw,pitch:p.pitch};v.yaw*=.992,v.pitch*=.992,!y&&Math.abs(v.yaw)<.001&&Math.abs(v.pitch)<.001&&(i=!0),function(t,e,n,o,a,r,i,s,c){t.bindBuffer(t.ARRAY_BUFFER,e.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.indexBuffer),t.useProgram(n.program),t.enableVertexAttribArray(n.attributes.aPos),t.vertexAttribPointer(n.attributes.aPos,3,t.FLOAT,!1,0,0),t.uniform3f(n.uniforms.uRot,o.pitch,o.yaw,0),t.uniform1f(n.uniforms.uScale,a),t.uniform1f(n.uniforms.uDensity,r),t.uniform1f(n.uniforms.uSlice,i),t.uniform3f(n.uniforms.uColorA,s.r,s.g,s.b),t.uniform3f(n.uniforms.uColorB,c.r,c.g,c.b),t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.depthMask(!1),t.disable(t.BLEND),t.drawElements(t.TRIANGLES,e.numTris,t.UNSIGNED_SHORT,0)}(l,d,m,t,n,o,a,s,c),i||requestAnimationFrame(f)}let h,g,p={pitch:dt,yaw:0,roll:0},v={yaw:r,pitch:0,roll:0},y=!1,E=null,b=null;const w=t=>t.changedTouches?t.changedTouches[0].clientX:t.clientX,L=t=>t.changedTouches?t.changedTouches[0].clientY:t.clientY,S=t=>{t.preventDefault();const e=w(t),n=L(t),o=E?{x:e-E.x,y:n-E.y}:{x:0,y:0};p.yaw-=.02*o.x,p.pitch-=0,b=E,E={x:e,y:n}},k=t=>{const e=w(t),n=L(t),o=b?{x:e-b.x,y:n-b.y}:{x:0,y:0};Math.abs(o.x)>1.5&&(v.yaw=.005*Math.max(Math.min(-o.x,32),-32)),E=null,b=null,y=!1,window.removeEventListener("pointermove",S),window.removeEventListener("pointerup",k)};return t.addEventListener("pointerdown",t=>{window.addEventListener("pointermove",S),window.addEventListener("pointerup",k),h=w(t),g=L(t),v={pitch:0,yaw:0,roll:0},y=!0,i&&(i=!1,f())},!1),f(),{halt:()=>{v.yaw=0,i=!0},spin:t=>{v={yaw:t,pitch:0,roll:0},i&&(i=!1,f())},set_scale:t=>{n=t,i&&f()},set_density:t=>{o=t,i&&f()},set_slice:t=>{a=t,i&&f()},set_colors:(t,e)=>{s=t,c=e,i&&f()},regenerate:t=>{const e=vt(t);m=yt(l,e),i&&f()}}}let bt;function wt(){const t=["./JSON/isotope/all.json","./JSON/compounds.json"];caches.open(window.CACHE_NAME).then(e=>e.addAll(t)).catch(reportError)}window.addEventListener("drawOrbital",t=>{const e=Object.assign({},t.detail);e.m=Math.abs(e.m);let n=20;2===e.l?0===e.m?n=5.2:1===e.m?n=6:2===e.m&&(n=4):3===e.l&&(n=e.m<=1?20:4.4);let o=0;0===e.l&&0===e.m&&(o=.5),lt?(lt.regenerate(e),lt.set_density(n),lt.set_slice(o)):lt=Et(document.getElementById("Orbital"),e,1.6,n,o,.02)}),window.addEventListener("stopOrbital",t=>{lt&&lt.halt()}),function(){const t=document.documentElement.dataset.iso;"caches"in window&&function(t){let e="";new URLSearchParams(window.location.search).get("lang")&&(e="/?lang="+t);const n=[e,`./manifest/ptable.${t}.webmanifest`];caches.open(window.CACHE_NAME).then(t=>t.addAll(n)).catch(reportError)}(t),"serviceWorker"in navigator&&(navigator.serviceWorker.register("./service-worker.js"),navigator.serviceWorker.addEventListener("controllerchange",()=>{bt||(bt=!0,window.location.reload())})),/*window.addEventListener("appinstalled",wt),navigator.standalone&&"caches"in window&&*/wt()}();function Lt(t){t.preventDefault(),navigator.share&&navigator.share({title:document.querySelector("title").textContent,text:document.querySelector('meta[name="description"]').getAttribute("content"),url:document.querySelector('link[rel="canonical"]').getAttribute("href")})}function St(t){if(!t)return;const e=Math.max(-1,t/[...this.textContent].length);this.style.letterSpacing=e*(1/12)+"em"}function kt(t){if(!t)return;const e=t/this.scrollWidth;this.style.transform=`translateX(${100*e/2}%) scaleX(${1+e})`}function At(t,e){const n=t.map(t=>{return(e=t.children[2]).offsetWidth-e.scrollWidth;var e});t.forEach((t,o)=>e.call(t.children[2],n[o]))}window.requestIdleCallback=window.requestIdleCallback||function(t){const e=Date.now();return setTimeout((function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})}),1)},requestIdleCallback(()=>{return t=[...document.querySelectorAll("ol > li")],requestIdleCallback(()=>At(t,St)),void requestIdleCallback(()=>At(t,kt));var t});
